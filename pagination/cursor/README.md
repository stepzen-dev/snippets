## Cursor-based Pagination

This example shows how to use cursor based pagination. This is a type of pagination that works well with GraphQL as it relies on edges and nodes.

## Getting Started

[Install](https://www.ibm.com/docs/en/api-connect/ace/saas?topic=setting-up-your-environment) the StepZen command line interface.

To run these examples,

- `git clone` this repo
- Change to the right working directory.
- run `stepzen start`

This example uses a demo database filled with mock data, you can inspect the `config.yaml` file to find the credentials for this database.

## Explore

You can use the following query to explore the data:

```graphql
query {
  paginatedCustomers(first: 2) {
    # the returned results
    edges {
      node {
        id
        name
      }
    }
    # the pagination information
    pageInfo {
      hasNextPage
      endCursor # cursor to retrieve the next set of results
    }
  }
}
```

This will return a response of type `CustomerConnection`, which includes both the results (as edges / nodes) and the pagination information. The field `hasNextPage` indicates that there are more results you can retrieve, and `endCursor` is the cursor you should use to retrieve the next set of results.

For example, if the value for `hasNextPage` is `true` and the value for `endCursor` is `eyJjIjoiTDpRdWVyeTpwYWdpbmF0ZWRDdXN0b21lcnMiLCJvIjoxfQ==` you can use hte following to retrieve the next set of results:

```graphql
query {
  paginatedCustomers(first: 2, after: "eyJjIjoiTDpRdWVyeTpwYWdpbmF0ZWRDdXN0b21lcnMiLCJvIjoxfQ==") {
    edges {
      node {
        id
        name
      }
    }
  }
}
```

The value for `endCursor` and other values in `PageInfo` are generated by the system, you don't have to implement this yourself.